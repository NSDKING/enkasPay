type Account @model @auth(rules: [{allow: public}]) {
  id: ID!
  mail: AWSEmail
  passe: String
  profil: String
  endDateAccount: AWSDate
  pin: String
  numero: Int
  endDateProfil: AWSDate
  userID: ID! @index(name: "byUser")
}

type BuyRoom @model @auth(rules: [{allow: public}]) {
  id: ID!
  productbuy: [Product] @hasMany(indexName: "byBuyRoom", fields: ["id"])
  users: [User] @manyToMany(relationName: "UserBuyRoom")
}

type LikeRoom @model @auth(rules: [{allow: public}]) {
  id: ID!
  productLike: [Product] @hasMany(indexName: "byLikeRoom", fields: ["id"])
  users: [User] @manyToMany(relationName: "UserLikeRoom")
}

type DurationPrice {
  one_month: Int
  three_month: Int
  one_year: Int
}

type Product @model @auth(rules: [{allow: public}]) {
  id: ID!
  name: String
  image: String
  type: String
  price: DurationPrice
  buycount: Int
  likecount: Int
  likeroomID: ID @index(name: "byLikeRoom")
  buyroomID: ID @index(name: "byBuyRoom")
}

type User @model @auth(rules: [{allow: public}]) {
  id: ID!
  FamilyName: String
  LastName: String
  phoneNumber: String
  city: String
  mail: AWSEmail
  Accounts: [Account] @hasMany(indexName: "byUser", fields: ["id"])
  BuyRooms: [BuyRoom] @manyToMany(relationName: "UserBuyRoom")
  LikeRooms: [LikeRoom] @manyToMany(relationName: "UserLikeRoom")
}
 